<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Valentine üíñ</title>

    <style>
        body {
            margin: 0;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            font-family: Arial, sans-serif;
            transition: background 2s ease;
        }

            body.bg-active {
                background: url('./bg.jpg') center/cover no-repeat fixed;
            }

                body.bg-active::before {
                    content: "";
                    position: fixed;
                    inset: 0;
                    background: rgba(0,0,0,0.45);
                    z-index: 1;
                }


        .card {
            z-index: 10;
            animation: none;
        }

            .card.active {
                animation: popGlow 1.5s ease forwards;
            }

        h1 {
            font-size: 22px;
            min-height: 60px;
        }

        h1 {
            color: #fff;
            text-shadow: 0 0 5px #ff4d6d, 0 0 10px #ff4d6d, 0 0 20px rgba(255, 77, 109, 0.8);
        }
        h1 {
            color: #ff4d6d;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
        }
        h1 {
            background: linear-gradient(45deg, #ff4d6d, #ff9a9e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.4);
        }

        .card {
            background: rgba(0,0,0,0.55);
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        button {
            padding: 10px 25px;
            border-radius: 25px;
            border: none;
            font-size: 16px;
            cursor: pointer;
        }

        .yes {
            background: #ff4d6d;
            color: white;
        }

        .no {
            background: white;
            border: 1px solid #ccc;
        }

        /* Hearts */
        .heart {
            position: absolute;
            color: red;
            animation: floatUp 4s linear infinite;
        }

        @keyframes floatUp {
            from {
                transform: translateY(0);
                opacity: 1;
            }

            to {
                transform: translateY(-600px);
                opacity: 0;
            }
        }

        /* Rose petals */
        .petal {
            position: absolute;
            color: #ff5c8a;
            animation: fall 6s linear infinite;
        }

        @keyframes popGlow {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }

            60% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 30px rgba(255, 77, 109, 0.9);
            }
        }

        @keyframes rise {
            from {
                transform: translateY(0) scale(0.6);
                opacity: 1;
            }

            to {
                transform: translateY(-120vh) scale(1.4);
                opacity: 0;
            }
        }

        .particle {
            position: absolute;
            bottom: -20px;
            animation: rise linear forwards;
        }

        @keyframes fall {
            from {
                transform: translateY(-50px) rotate(0deg);
            }

            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Fireworks */
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            to {
                transform: translate(var(--x), var(--y));
                opacity: 0;
            }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.35);
            z-index: 1;
        }

        .petal {
            position: absolute;
            top: -50px;
            animation: petalFall 8s linear forwards;
        }

        @keyframes petalFall {
            0% {
                transform: translateX(0) rotate(0deg);
            }

            50% {
                transform: translateX(60px) rotate(180deg);
            }

            100% {
                transform: translateY(120vh) translateX(-60px) rotate(360deg);
            }
        }

        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: blast 1s ease-out forwards;
        }

        @keyframes blast {
            to {
                transform: translate(var(--x), var(--y));
                opacity: 0;
            }
        }

    </style>
</head>

<body>
    <div class="overlay"></div>
   <audio id="music" preload="auto">
    <source src="Love.mp3" type="audio/mpeg">
    Your browser does not support audio.
</audio>
<div onclick="document.getElementById('music').play()" style="display:none"></div>


    <div class="card">
        <h1 id="typing"></h1>

        <div class="buttons">
            <button class="yes" onclick="yesClicked()">YES</button>
            <button class="no" id="noBtn">NO</button>
        </div>
    </div>

    <script>
        const text = "Rutuja,\nwill you be my Valentine? ‚ù§Ô∏è";
        let index = 0;

        function typeText() {
            if (index < text.length) {
                document.getElementById("typing").innerHTML +=
                    text[index] === "\n" ? "<br>" : text[index];
                index++;
                setTimeout(typeText, 70);
            }
        }
        typeText();

        function yesClicked() {
     document.body.classList.add("bg-active");
     document.querySelector(".card").classList.add("active");

     const music = document.getElementById("music");

     // Force reload & play
     music.load();
     const playPromise = music.play();

     if (playPromise !== undefined) {
         playPromise
             .then(() => {
                 console.log("Music started üéµ");
             })
             .catch(error => {
                 alert("‚ö†Ô∏è Tap anywhere once to allow music");
                 console.error("Audio error:", error);
             });
     }

     startParticles();
     startPetals();
     startFireworks();

     setTimeout(() => {
         alert("üíñ Forever starts now üíñ");
     }, 800);
 }

        // NO button escape
        document.getElementById("noBtn").addEventListener("mouseover", () => {
            const x = Math.random() * 200 - 100;
            const y = Math.random() * 200 - 100;
            noBtn.style.transform = `translate(${x}px, ${y}px)`;
        });

        // Hearts
        function startHearts() {
            setInterval(() => {
                const h = document.createElement("div");
                h.className = "heart";
                h.innerHTML = "‚ù§Ô∏è";
                h.style.left = Math.random() * 100 + "vw";
                h.style.bottom = "0";
                h.style.fontSize = Math.random() * 20 + 15 + "px";
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 4000);
            }, 300);
        }

        // Confetti
        function startConfetti() {
            for (let i = 0; i < 80; i++) {
                const c = document.createElement("div");
                c.style.position = "absolute";
                c.style.width = "6px";
                c.style.height = "12px";
                c.style.background = `hsl(${Math.random() * 360},100%,50%)`;
                c.style.left = "50%";
                c.style.top = "50%";
                c.style.transform = `translate(${Math.random() * 400 - 200}px,${Math.random() * 400 - 200}px)`;
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 2000);
            }
        }

        // Rose petals
        function startPetals() {
            setInterval(() => {
                const p = document.createElement("div");
                p.className = "petal";
                p.innerHTML = "üåπ";
                p.style.left = Math.random() * 100 + "vw";
                p.style.fontSize = Math.random() * 20 + 15 + "px";
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 6000);
            }, 500);
        }

        // Fireworks
        function startFireworks() {
            setInterval(() => {
                for (let i = 0; i < 20; i++) {
                    const f = document.createElement("div");
                    f.className = "firework";
                    f.style.background = `hsl(${Math.random() * 360},100%,50%)`;
                    f.style.left = Math.random() * window.innerWidth + "px";
                    f.style.top = Math.random() * window.innerHeight + "px";
                    f.style.setProperty("--x", Math.random() * 200 - 100 + "px");
                    f.style.setProperty("--y", Math.random() * 200 - 100 + "px");
                    document.body.appendChild(f);
                    setTimeout(() => f.remove(), 1000);
                }
            }, 1500);
        }

        function startParticles() {
            setInterval(() => {
                const p = document.createElement("div");
                p.className = "particle";
                p.innerHTML = "‚ù§Ô∏è";
                p.style.left = Math.random() * 100 + "vw";
                p.style.fontSize = Math.random() * 20 + 12 + "px";
                p.style.animationDuration = Math.random() * 3 + 3 + "s";
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 6000);
            }, 200);
        }

        function startPetals() {
            setInterval(() => {
                const petal = document.createElement("div");
                petal.className = "petal";
                petal.innerHTML = "üåπ";
                petal.style.left = Math.random() * 100 + "vw";
                petal.style.fontSize = Math.random() * 22 + 14 + "px";
                document.body.appendChild(petal);
                setTimeout(() => petal.remove(), 8000);
            }, 500);
        }

        function startFireworks() {
            setInterval(() => {
                const cx = window.innerWidth / 2;
                const cy = window.innerHeight / 2;

                for (let i = 0; i < 30; i++) {
                    const f = document.createElement("div");
                    f.className = "firework";
                    f.style.background = `hsl(${Math.random() * 360},100%,50%)`;
                    f.style.left = cx + "px";
                    f.style.top = cy + "px";
                    f.style.setProperty("--x", Math.random() * 400 - 200 + "px");
                    f.style.setProperty("--y", Math.random() * 400 - 200 + "px");
                    document.body.appendChild(f);
                    setTimeout(() => f.remove(), 1000);
                }
            }, 2000);
        }


    </script>

</body>
</html>
